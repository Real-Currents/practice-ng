<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Practice AngularJS</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />

    <link rel="stylesheet" type="text/css" href="styles/practice.css" />
	
    <script type="text/javascript" src="index.js"></script>
</head>

<body data-ng-app="practice-angularjs">
	
	<div data-ng-view></div>
	
	<div id="responseMessage"></div>

	<script type="text/javascript">
/*[CDATA[*/	
/* Lesson adapted from "Submitting Ajax Forms: The AngularJS Way" 
 * by Chris Sevilleja
 * https://scotch.io/tutorials/submitting-ajax-forms-the-angularjs-way
 *
 * Basically, first setup an HTML form template and use a native JS
 * function to process submission via AJAX. Then, convert the form 
 * function into an AngularJS controller... (see scripts/main.js)
 */
/*
		window.document.forms[0].onsubmit = function( event ) {			
			var form = event.target,
				req = new XMLHttpRequest(),
				url = "/process";

			if( form['uname'].value ) 
				url += (url.match(/\?/) === null)? "?uname="+ form['uname'].value : "&uname="+ form['uname'].value;
			if( form['umail'].value ) 
				url += (url.match(/\?/) === null)? "?umail="+ form['umail'].value : "&umail="+ form['umail'].value;

			req.onload = function( event ) {
				var data = (event.currentTarget && event.currentTarget.responseText)? 
					JSON.parse(event.currentTarget.responseText) || event.currentTarget.responseText:
					"No Response";
				window.console.log( data );
				
				if( data.message ) {
					window.responseMessage.innerHTML = data.message;	
				}
				
				return true;
			};

			req.open('GET', url, true);

			req.send();

			event.preventDefault();

			return true;
		};
*/
/*]]*/
	</script>
	
</body></html>
